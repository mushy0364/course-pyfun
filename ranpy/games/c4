#!/usr/bin/env python3

def draw_board(board):
    print('1|2|3|4')
    print('-------')
    print(board[0] + '|' + board[1] + '|' + board[2] + '|' + board[3])
    print(board[4] + '|' + board[5] + '|' + board[6] + '|' + board[7])
    print(board[8] + '|' + board[9] + '|' + board[10] + '|' + board[11])
    print(board[12] + '|' + board[13] + '|' + board[14] + '|' + board[15])

def drop(col,p):
    for n,i in reversed(list(enumerate(col))):
        if i == ' ':
            col[n] = p
            break
        if ' ' not in col:
            print('Invalid Move!')
            break
        print(col)

def turn(board,choice):
    if choice == 1:
        if player == 1:
            piece = 'X'
        if player == 2:
            piece = 'O'
        col1 = []
        print(col1)
        col1.extend((board[0],board[4],board[8],board[12]))
        drop(col1,piece)
        print(col1)
        board[12] = col1[3]
        board[8] = col1[2]
        board[4] = col1[1]
        board[0] = col1[0]

    col2 = []
    col1.extend([board[1],board[5],board[9],board[13]])
    col3 = []
    col1.extend([board[2],board[6],board[10],board[14]])
    col4 = []
    col1.extend([board[3],board[7],board[11],board[15]])

try:
    player = 1
    board = [' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ']
    while True:
        draw_board(board)
        choice = int(input('Which column? > '))
        turn(board,choice)
        if player == 1:
            player = 2
            continue
        if player == 2:
            player = 1
            continue
except KeyboardInterrupt:
    print('Thanks for playing!')
